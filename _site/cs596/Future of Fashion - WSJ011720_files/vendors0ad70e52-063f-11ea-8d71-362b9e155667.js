(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{FnZw:function(e,t,n){"use strict";var o,r=n("kxtY"),a=(o=r)&&o.__esModule?o:{default:o};var i=n("stHv");e.exports={getArticleSaveStatus:function(e,t){(0,a.default)("/articles/svc/personalization/saved-contents/by-content-id/"+e).get().text((function(e){return t(null,"true"===e)})).catch(t)},getUrlWithToken:function(e){var t={url:e};return(0,a.default)((window&&(window.location.host.indexOf("s.dev")>=0||window.location.host.indexOf("local")>=0)?"https://www.s.dev.wsj.com":"https://www.wsj.com")+"/emailthis/share-url").options({credentials:"include",mode:"cors"}).accept("application/json").content("application/json").post(t).json((function(e){if(e&&e.shareUrl)return e.shareUrl;throw new Error("Could not successfully generate share URL")}))},removeArticle:function(e,t){var n={contentId:e};(0,a.default)("/articles/svc/personalization/saved-contents?contentId="+e).delete(n).json((function(e){return t(null,e||0===e)})).catch(t)},saveArticle:function(e,t){var n={contentId:e};(0,a.default)("/articles/svc/personalization/saved-contents").post(n).json((function(e){return t(null,e&&e.contentId)})).catch(t),i({event_name:"article_save"})}}},MaSA:function(e,t,n){"use strict";e.exports=function(e,t){if(!document||!window)return null;var n=navigator&&navigator.userAgent.match(/ipad|iphone/i),o=document.createElement("textarea");if(o.value=e,o.setAttribute("readonly",""),o.style.position="fixed",o.style.left="-9999px",document.body.appendChild(o),n){var r=document.createRange();r.selectNodeContents(o);var a=window.getSelection();a.removeAllRanges(),a.addRange(r),o.setSelectionRange(0,999999)}else o.select();try{document.execCommand("copy"),t()}catch(t){window.prompt("Copy to clipboard: Ctrl+C (Cmd+C on Mac)",e),console.error(t)}finally{document.body.removeChild(o)}}},MlPK:function(e){e.exports={"na,us":{comment:"Response",comments:"Responses",save:"Save",saved:"Saved",share:"Share",textSize:{text:"Text",textSize:"Text Size",small:"Small",medium:"Medium",large:"Large"}},"asia,cn":{comment:"评论",comments:"评论",save:"保存文章",saved:"已保存",share:"分享",textSize:{text:"文字大小",textSize:"文字大小",small:"小",medium:"中",large:"大"}},"asia,cn_hant":{comment:"评论",comments:"评论",save:"保存文章",saved:"已保存",share:"分享",textSize:{text:"文字大小",textSize:"文字大小",small:"小",medium:"中",large:"大"}},"asia,jp":{comment:"評価",comments:"評価",save:"保存する",saved:"保存しました",share:"シェア",textSize:{text:"文字サイズ",textSize:"文字サイズ",small:"小",medium:"中",large:"大"}}}},"N+wQ":function(e,t,n){e.exports={"share-tools-menu":"WSJTheme--share-tools-menu-2F936hor5ijCNsIat2fqSg",vertical:"WSJTheme--vertical-2A_MpX2-QzUQuNnKeXs7UE",tool:"WSJTheme--tool-1A6hGwjgPFEzDp_v_Ro7eG","tool-icon":"WSJTheme--tool-icon-1XrxosU2OSWMIL8t9Jg9qZ","tool-label":"WSJTheme--tool-label-1157w7xh8PPZz8Vtml_NFu","share-menu-container":"WSJTheme--share-menu-container-2Okse1w18a-53AbMLnrKGd","share-item":"WSJTheme--share-item-2lYcUrI3lwseDfUXFfekD typography--sans-serif-narrow-3puHQtzALBBYJ5wpkZnRFW",facebook:"WSJTheme--facebook-1jb5D-BJuOB-LomS9DGtjK",twitter:"WSJTheme--twitter-1zofhrtPQ7LcMu6d7RXSv0",whatsapp:"WSJTheme--whatsapp-3qVkiQ0pQAx0itzmZBj4ye",line:"WSJTheme--line-3aukTb6dgwodd7N6_saV_7",hatena:"WSJTheme--hatena-2hiUZDeMd3JD3zZhw6nlrs",email:"WSJTheme--email-3-qzek1pdde2Jtc3BLHzDE",permalink:"WSJTheme--permalink-Ys9N7SKowOPUNOoimc6Iq",link:"WSJTheme--link-35ujYPJFSepqso5MVx1oOm","share-item-label-text":"WSJTheme--share-item-label-text-239SSRSYVFnca1r2PbSLbb typography--sans-serif-narrow-3puHQtzALBBYJ5wpkZnRFW"}},lWwZ:function(e,t,n){"use strict";(function(t){var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=n("q1tI"),a=n("fFtP"),i=n("M8zK"),s=n("yDJ3"),l=n("FnZw").getUrlWithToken,c=n("N+wQ"),m=n("XhxB"),u=n("ChiG"),p=n("MlPK"),h=n("stHv"),d=n("xLT2"),f=n("MaSA"),S=n("wZgJ"),y=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return o.getUrlWithToken=function(e){return new t((function(t,n){l(e).then((function(e){o.setState({urlWithToken:e}),t(e),o.handlePermalinkCopy(e)})).catch((function(n){t(e)}))}))},o.displayLabel=function(e,t){return"permalink"===t?o.translations[o.state.permalinkText]||o.state.permalinkText:o.translations[e]||e},o.renderPermalink=function(e){var t=o.props.options,n=t.isLoggedIn,r=t.freeArticle,a=o.state.urlWithToken,i=n&&!r&&!a;if(o.sendTracking("permalink"),a)return o.handlePermalinkCopy(a);i?o.getUrlWithToken(e):o.handlePermalinkCopy(e)},o.handlePermalinkCopy=function(e){f(e,(function(){o.setState({permalinkText:"Copied"}),window.setTimeout((function(){o.setState({permalinkText:"Permalink"})}),1500)}))},o.handleModal=function(e,t){var n=e.shareBody,r=e.type,a=o.props.options.isLoggedIn,i=void 0,s=void 0;switch(r){case"facebook":return i="https://www.facebook.com/sharer/sharer.php?u="+(s=encodeURIComponent(t)),o.sendTracking("Facebook"),o.renderSocialShare(i);case"twitter":return s=encodeURIComponent(t),i="https://twitter.com/intent/tweet?text="+encodeURIComponent(n)+"&url="+s+"&via=WSJ",o.sendTracking("Twitter"),o.renderSocialShare(i);case"email":return a?o.openEmailScrim():null;case"permalink":return o.renderPermalink(t);default:return null}},o.toggleToolsVisibility=function(e){o.setState({showEmailScrim:e})},o.openEmailScrim=function(){var e=s(o.props.options,"cssSelectors.shareToolsContainer"),t=document.querySelector(e),n=document.documentElement;t.style.zIndex="90",t.style.position="relative",n.style.position="absolute",n.style.overflow="hidden",n.style.width="100vw",o.toggleToolsVisibility(!0)},o.closeEmailScrim=function(){o.toggleToolsVisibility(!1);var e=s(o.props.options,"cssSelectors.shareToolsContainer"),t=document.querySelector(e),n=document.querySelector("html");t.style.zIndex="35",n.style.position="auto",n.style.overflow="auto"},o.renderEmailScrim=function(e){if(!o.state.showEmailScrim)return!1;var t=o.props.options,n=t.author,a=t.articleId,i=t.description,s=t.encodeEmailUrl,l=t.source,c=t.headline,m=t.image,u=t.region,p=t.seoId,h=t.sharePath,f=t.template,S=t.url,y=s&&h?h+"/"+p:S,g=e.find((function(e){return"email"===e.type})).userEmail,w={emailScrim:o.css.namespace("email_")};return r.createElement(d,{css:w.emailScrim,options:{author:n,articleId:a,closeMenu:o.closeEmailScrim,dataType:"article",description:i,source:l,shareName:c,image:m,region:u,shareURL:y,showEmailScrim:!0,userEmail:g,template:f}})},o.translations=p[e.region]||p["na,us"],o.css=e.css||function(){return""},o.state={permalinkText:"Permalink",showEmailScrim:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),o(n,[{key:"sendTracking",value:function(e){var t=this.props.options.headline;h({event_name:"social_share",social_share_type:e,social_share_headline:t})}},{key:"renderShareTools",value:function(e,t){var n=this,o=e.shareItems,a=this.props.options.isLoggedIn;return o.length?(a||(o=o.filter((function(e){return"Email"!==e.label}))),r.createElement("div",{className:this.css("share-tools-menu")},r.createElement("span",{className:this.css("share-item-label-text")},"share"),o.map((function(e){return r.createElement("li",{className:n.css("share-item",e.type),onClick:function(){return n.handleModal(e,t)},key:e.label},r.createElement("a",{className:n.css("link"),key:e.label,target:"_blank",role:"button"},n.displayLabel(e.label,e.type)))})))):null}},{key:"renderSocialShare",value:function(e){return window.open(e,"_blank")}},{key:"render",value:function(){var e=this.props.options,t=e.url,n=e.position,o=e.tool;return 0===Object.keys(o).length?null:r.createElement("div",{className:this.css(n)},this.renderShareTools(o,t),this.renderEmailScrim(o.shareItems))}}]),n}(a);y.options={type:"object",properties:{shareBody:{type:"string"},region:{type:"string"},url:{type:"string"},isLoggedIn:{type:"boolean"}}},y.propTypes={articleId:i.string,author:i.string,css:i.func,description:i.string,encodeEmailUrl:i.bool,isLoggedIn:i.bool,position:i.string,region:i.string,tool:i.object,url:i.string,headline:i.string,image:i.string,sharePath:i.string,seoId:i.string,source:i.array,template:i.string,urlWithToken:i.string},y.markAsImmutableForCache=[{$props:["options","tool"]}],y.decorators={WSJTheme:u("WSJTheme",c,{namespace:"email_",styles:S})},y.defaultOptions={isLoggedIn:!1,position:"vertical",region:"na,us",encodeEmailUrl:!1},e.exports=m(y,n("nxc/"))}).call(this,n("CSL1"))},"nxc/":function(e){e.exports={id:"0ad70e52-063f-11ea-8d71-362b9e155667",displayName:"ShareTools"}},wZgJ:function(e,t,n){e.exports={"scrim-container":"WSJTheme--scrim-container-1tzkzqzeXMIv_dExgTC-fS",scrim:"WSJTheme--scrim-2AYKBTiFqxtHrnz-3aC3ye",close:"WSJTheme--close-lN7YGnjzMAXGk-L4sBywo US-share-icons--close-5py6zGK2ZcOQpTVLFTLAt",content:"WSJTheme--content-3acaxTapfvk2Vx6rkcueyP",thumbnail:"WSJTheme--thumbnail-TBD9iELK_xDVjWkx4_5sz",title:"WSJTheme--title-1xUg9RGUKG4YQehxsHIBCL",description:"WSJTheme--description-kgquqcoDilnZAMqfXdyan","input-wrap":"WSJTheme--input-wrap-2ShZOj0D1EDgK69JQXdlzt",error:"WSJTheme--error-UoNNTVc17rf41dsYu9DkM",invalid:"WSJTheme--invalid-1OhoLYwfz0iaswQws-X3b8","too-many":"WSJTheme--too-many-3daZ7xOXFkOpToLgtQPKX6",label:"WSJTheme--label-3jNJZk_3Y9-7DqPsYilpf_","text-area":"WSJTheme--text-area-1UjYcdLzXyO6GcEm2hs2Xi",message:"WSJTheme--message-sec9ePU66LLUpdO0WBqKy",submit:"WSJTheme--submit-2tRWFhEEMvsatIgEF4TLeH","captcha-wrap":"WSJTheme--captcha-wrap-bvAZsV0WUJdCNramxgPzy","email-ty-wrap":"WSJTheme--email-ty-wrap-3PhTC_XqGbMPxi6MWPw9XX","ty-headline":"WSJTheme--ty-headline-3ZHurZl8IZde8BsJzoZ0qP","ty-message":"WSJTheme--ty-message-KBzUWHnRPDvpETDfrujiK","ty-recipient":"WSJTheme--ty-recipient-2rTrk8Jam7eeHbzPEu11nq"}}}]);