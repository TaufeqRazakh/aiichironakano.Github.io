var cxCandyObj={version:"2020-01-21 06:42:09",renderTemplateHost:"http://cdn.cxpublic.com/",envType:"",env:"prod",initialized:!1,userId:null,jqInjected:!1,meta:{hasAd:"u"},persistedQueryId:"c77e57f707a8285372fa005966570578c63489b3",sites:{"store.wsj.com":"9222318613852486900","live.wsj.com":"9222325317970618875","trkcxuevt.wsj.com":"9222334397379502889","www.wsj.com.tr":"9222335528567651935","wsj.com.tr":"9222335528567651935","br.wsj.com":"9222335528567651936","jp.wsj.com":"9222335528673021906","kr.wsj.com":"9222335528673021931","indo.wsj.com":"9222335528673021932","www.efinancialnews.com":"1140713697611107803","onboarding.cxpublic.com":"9222363238898586877","www.local.wsj.com":"9222363238898586877","member.wsj.com":"1135108723701486695"},sharedAccounts:{"8eebc7c7d60311c7c3936557c944228b90dbca842b100398efea4a169aa12fe7":"starbucks"},graphicsTestId:18,initialize:function(){this.siteLogoInfo={"9222318613852486900":{name:"Wall Street Journal",imgLink:"http://www.wsj.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/wsj_logo.svg",preferredWidth:"150"},"9222325317970825873":{name:"Market Watch",imgLink:"http://www.marketwatch.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/mw_logo.svg",preferredWidth:"100"},"1144071410389139719":{name:"Mansion Global",imgLink:"http://www.mansionglobal.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/mg_logo.svg",preferredWidth:"140"},"1142953111780883056":{name:"Realtor",imgLink:"http://www.realtor.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/realtor_logo.svg",preferredWidth:"85"}};[{name:"cXenseParse:wsj-keyword",separator:","},{name:"cXenseParse:author",separator:"|"}].forEach(function(e){var t=document.head.querySelector("meta[name='"+e.name+"']");t&&!t.getAttribute("data-separator")&&t.setAttribute("data-separator",e.separator)});var e=this.getMetaTagValue("cx_pv_id");e&&cX.setRandomId(e),cX.addEventListener(window,"message",cxdj.renderCallback),cxdj.meta=cxdj.readPageContext()},isSubscriber:function(e){return"prosubscriber"===e||"procbsubscriber"===e||"subscriber"===e},getSiteId:function(e){return this.getSiteIdForTopDomain(cxdj.meta.topDomain,e)},getSiteIdForTopDomain:function(e,t){var c=t===e?"":t.slice(0,t.lastIndexOf("."+e));switch(e){case"wsj.com":return-1<["","blogs","markets","online","graphics","www"].indexOf(c)?"9222318613852486900":"quotes"===c?"1137428874877849937":"deloitte"===c?"1135177142006008713":-1<["cn","chinese","hk","www.hk"].indexOf(c)?"9222335528567651934":"partners"===c?"1135132405600019683":cxdj.sites[t]?cxdj.sites[t]:"1134002947328204066";case"marketwatch.com":return"bigcharts"===c?"1132882648552401441":"9222325317970825873";case"barrons.com":return"partners"===c?"1131774050934839824":-1<["dev.partners","stg.partners","sbx.partners"].indexOf(c)?"1132899956055435449":"9222325317970825875";case"realtor.com":return"1142953111780883056";case"fnlondon.com":return"1139592114930554183";case"penews.com":return"1133979867428110118";case"heatst.com":return"1140711674266969838";case"wsjplus.com":return"1144060886250044680";case"wsjcs-dev.com":return"1132877656863055436";case"moneyish.com":return"1131757219286375810";case"wsj.net":if(0===window.location.pathname.indexOf("/newsletter/"))return"1136293312189049388";break;case"mansionglobal.com":return 0===window.location.pathname.indexOf("/es/")?"1140714022692008822":-1<["","www"].indexOf(c)?"1144071410389139719":"1134007940894473081";case"huanyuju.com":return"1140714022692008823";case"dowjones.com":return"1134008299188968078"}return cxdj.sites[t]?cxdj.sites[t]:"1131751141886830816"},reportEvent:function(e,t,c,n){var i=null,r="0";r=e&&e.length&&0===e.indexOf("https://store.wsj.com")?(cX.initializePage(),cxdj.sites["store.wsj.com"]):cxdj.getSiteId(window.location.hostname),cX.setSiteId(c||r),cX.setCustomParameters(cxdj.meta),t&&cX.setCustomParameters(t),cxdj.isSubscriber(cxdj.meta.subscriber)&&"y"===cxdj.meta.hasUid&&cX.setUserProfileParameters({knownSubscriber:1}),e&&e.length&&(i={location:e}),cxdj.userId&&cX.addExternalId({id:cxdj.userId,type:"wsj"}),cX.sendPageViewEvent(i,n)},reportFunnelEvent:function(r,a){cX.callQueue.push(["invoke",function(){var e,t="default";"object"!=typeof r&&(r={});var c=cX.library.parseUrlArgs();r.hasAdId=c.cx_adcampaign?"y":"n",r.eventType&&(t=r.eventType),cX.setEventAttributes({origin:"wsj-funnel",persistedQueryId:cxdj.persistedQueryId}),a&&(e={callback:a});var n={conversionType:"subscription"};for(var i in r)"eventType"!==i&&r.hasOwnProperty(i)&&(n[i]=r[i]);cX.sendEvent(t,n,e)}])},reportCustomConversion:function(e,t){cX.callQueue.push(["invoke",function(){cX.setEventAttributes({origin:"wsj-conversion",persistedQueryId:cxdj.persistedQueryId}),t=t||{},cX.sendEvent(e,t)}])},reportInteractionEvent:function(t,c,n){cX.callQueue.push(["invoke",function(){var e;c=c||{},cX.setEventAttributes({origin:"wsj-placement",persistedQueryId:cxdj.persistedQueryId}),n&&(e={callback:n}),cX.sendEvent(t,c,e)}])},annotateUserProfile:function(e){e=e||"default",cX.initializePage();var t="http://event.wsj.com?et="+e;cX.setUserProfileParameters({useraction:e}),cX.sendPageViewEvent({location:t})},trackPolicy:function(e,t){cX.initializePage(),cX.setUserProfileParameters({policy:e||"unknown"});var c=cxdj.meta.topDomain;t&&(c=t,cX.setSiteId(cxdj.getSiteIdForTopDomain(t,t))),cX.sendPageViewEvent({location:"http://policy."+c+"/"}),"mwcpoct2017"===e&&window.localStorage&&window.localStorage.setItem("cx-gdpr-accepted","true")},reportVisibility:function(e,t){cX.callQueue.push(["invoke",function(){cX.trackElement({elementId:e,trigger:{on:function(e){return.2<=e.visibility.timeSome},callback:function(e){cX.setEventAttributes({origin:"wsj-visibility",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("widgetVisible",{widgetName:t})}}})}])},reportScrollDepth:function(){var e=null,n=0;function t(){var e,t=(document.documentElement.scrollHeight||document.body.clientHeight)-window.innerHeight,c=document.documentElement.scrollTop||document.body.scrollTop;0==t?e=100:(e=parseInt(c/t*100),e-=e%10),n<e&&(n=e,cX.setEventAttributes({origin:"wsj-scroll-depth",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("pageScrollDepth",{depth:""+e,pos:c}))}window.addEventListener("scroll",function(){e&&clearTimeout(e),e=setTimeout(t,50)})},trackKnownElements:function(){for(var e=[{divId:"cx-editor-pick",name:"cxEditorsPicks"},{divId:"cx-user-headlines",name:"cx-user-headlines"}],t=0;t<e.length;t++){var c=e[t].divId,n=e[t].name;document.getElementById(c)&&this.reportVisibility(c,n)}},isExcludedWidgetSection:function(e){return-1!==["JournalReports:CollegeRankings","JournalReports:CollegeRankingsHighlights","JournalReports:Conferences","JournalReports:Energy","JournalReports:Funds&ETFs","JournalReports:HealthCare","JournalReports:Leadership","JournalReports:Retirement","JournalReports:SmallBusiness","JournalReports:TechCompaniestoWatch","JournalReports:WealthManagement","JournalReports:Technology"].indexOf(e.type)},isNewRelicMonitoring:function(){return-1!==window.location.href.indexOf("__newrelic_pad_monitoring=true")},getRecsWidget:function(){var e=cxdj.getMeta({});return cxdj.isExcludedWidgetSection(e)?"full-immersive"!==e.template&&"snippet-immersive"!==e.template||"JournalReports:CollegeRankings"!==e.type&&"JournalReports:CollegeRankingsHighlights"!==e.type?{widgetId:null}:{widgetId:"3b25f97d39183a742b7456c180b70f7219cdb97c",clickTag:"cx_immersive"}:-1<["cn.wsj.com","chinese.wsj.com","hk.wsj.com","www.hk.wsj.com","cn.stg.wsj.com"].indexOf(window.location.hostname)?{widgetId:"79a80ec024218735dd82dbd6411c21ce24d0a8b1",clickTag:"cx_china"}:"TheFutureofEverything"===e.type?{widgetId:"9bc013ee053a9910e7864554749ed704a76b31b2",clickTag:"cx_future"}:"full-immersive"===e.template||"snippet-immersive"===e.template?{widgetId:"3b25f97d39183a742b7456c180b70f7219cdb97c",clickTag:"cx_immersive"}:"Olympics"===e.section||"Olympics"===e.type?{widgetId:"2e6f3a55b420bf4694cfae47c08a6eca4630b885",clickTag:"cx_olympics"}:"Politics"===e.section?{widgetId:"cb71663b8d2e8d1d43f90831c4b933e09279b597",clickTag:"cx_politics"}:"Life"===e.section||"Life&Style"===e.section?{widgetId:"802e139d907077aa1e7fbe42967e069b4439e81a",clickTag:"cx_life"}:"YourMoney"===e.type||"TaxReport"===e.type||"WeekendInvestor"===e.type||"Money&Investing"===e.section?{widgetId:"d20d9befb3c9f275cb7c2bfb4a8573f6f79f8e9d",clickTag:"cx_money"}:{widgetId:"46e62d95da6d4b8cfa9b8e00a2835c04b34edede",clickTag:"cx_picks"}},getUserBucket:function(e){var t,c=["2qgQ1WCa3A","ixi4E5ylqa","830nwKog3K","K8ZnHJ5Uyn","91GjW1q7Zg","rGgki1wrhs","q85AaJVP78","1p6sdUNJWD","63L1D4y2F9","HY0f8Of9M1"],n=cX.getCookie("usr_bkt"),i=c.indexOf(n);if(-1!==i)return i;if(e&&e.length){for(var r=0,a=0;a<e.length;a++)r=(r<<5)-r+e.charCodeAt(a),r|=0;t=Math.abs(r)%10}else t=Math.floor(10*Math.random());return cX.setCookie("usr_bkt",c[t],3650,"/",cX.getTopLevelDomain()),t.toString()},getAbBucket:function(){var e=cX.getCookie("ab_uuid");if(!e)return-2;for(var t=0,c=0;c<e.length;c++)t=(t<<5)-t+e.charCodeAt(c),t|=0;return(Math.abs(t)%100).toString()},getOmnitureCookieValue:function(){var e=cX.getCookie("AMCV_CB68E4BA55144CAA0A4C98A5%40AdobeOrg");if(!e)return{};var t=e.split("|");if(t.length<2)return{};for(var c={},n=1;n<t.length-1;n+=2)c[t[n].toLowerCase()]=t[n+1];for(var i in c)"none"===(c[i]||"").toLowerCase()&&delete c[i];return c},getMeta:function(e){for(var t=document.getElementsByTagName("meta"),c=0;c<t.length;c++){var n=t[c].content.replace(/ /g,"");switch(t[c].name){case"article.type":e.type=n;break;case"article.template":e.template=n;break;case"article.access":e.access=n;break;case"user.exp":e.userExp=n;break;case"user.type":"nonsubscriber"===n||cxdj.isSubscriber(n)?e.subscriber=n:"freeRegister"===n?e.subscriber="registered":-1<["memsubyes"].indexOf(n)?e.subscriber="subscriber":"regyes"===n?e.subscriber="registered":(e.subscriber="default",e.extra1=n);break;case"section":case"article.section":e.section=n}}return e.template||(this.cxshield&&"personalized"===this.cxshield.type?e.template="snippet":e.template="full"),e},getMetaTagValue:function(e,t){if(!e)return"";t=t||"name";var c=document.querySelector("meta["+t+'="'+e+'"]');return c&&c.getAttribute("content")||""},getDeviceType:function(){var e=window.navigator.userAgent;return/Android|iP(hone|ad)|Windows\sPhone|BlackBerry/i.test(e)?"mobile":"desktop"},displayArticleCover:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-articlecover";switch(cxdj.meta.topDomain){case"barrons.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("cb5ddcce7d042f8bf5215efb6aff7f93089bcd57",e,void 0,void 0,["pwTag","accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"marketwatch.com":var t="cx-marketing-snippet";cxenseOffers.hasDivId(t)&&cxenseOffers.requestCCEOffer("38a8e471ea3f5ee900128bb831310b82c22c3d3e",t,void 0,void 0,["pwPlacement","accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"wsj.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("665e0bcdbbe895316d610f4cd72480f820a6d08e",e,void 0,void 0,["pwTag","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayJoinTheConversationInline:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-jtc-inline";switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("6440fe3ca63c69d41b8729648f7ed38b4d38efdc",e,void 0,void 0)}}},displayVideoScrim:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-scrim";cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("5cb4c11f11e5da190e12c4f0210a7eb3b824134e",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}},displayScrim:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-scrim";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"marketwatch.com":-1<["registered","subscriber","prosubscriber"].indexOf(cxdj.meta.subscriber)&&cxenseOffers.requestCCEOffer("12458a7acb1868379181ba540ba8c31bcf6ffae4",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"barrons.com":cxenseOffers.requestCCEOffer("a79051bd87db0958ee9836ac4b045614586a88cc",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"fnlondon.com":cxenseOffers.requestCCEOffer("dd988baf5af5819704a9889728e5b9f82189f8ec",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"mansionglobal.com":cxenseOffers.requestCCEOffer("1525c3c9ed64809f70104e5300e5debd2a92605f",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"wsj.com":"Video"===cxdj.meta.section||(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("b867c58b03e06a08c6238740e80c36f44ce93a41",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]):cxenseOffers.requestCCEOffer("b3e80557a3fb67b2ec6b23810f739873daa70ce9",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]))}}},displayProScrim:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-pro-scrim";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("410321637a47e12baa8863e677aba7a74cf81319",e,void 0,void 0,["pageSiteProduct","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayProSnippet:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-pro-snippetad";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("618da8476c015a43e028f0f026cb08d3e3a173b4",e,void 0,void 0,["pageSiteProduct","pageContentTypeDetail","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayProCandybar:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-pro-candybar";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("12b72b5f423f0d0b51e1796bfd800c057765ab49",e,void 0,void 0,["pageSiteProduct","pageContentTypeDetail","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayProMarketingTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-pro-mktg-tile";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("e73119387d9c6312e6d5993fd54420b15a9c6d12",e,void 0,void 0,["pageSiteProduct","pageContentTypeDetail","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayProNewsletterTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-pro-newsletter-tile";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("42b5c423f0c9ce0e4ea14f0ddeed23ea53fcc54b",e,void 0,void 0,["pageSiteProduct","pageContentTypeDetail","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]):cxenseOffers.requestCCEOffer("9d660f11b6dce3bba615ee946a6e8083514f94f1",e,void 0,void 0,["pageSiteProduct","pageContentTypeDetail","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayFOEFestivalTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-foe-festival-tile";cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("d64cf865b77cda123e250e149bcb2fa4aa66a686",e)}},displayCandyBar:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-candybar";if(!cxenseOffers.hasDivId(e)&&document.location.pathname.includes("/news/collection/see-where-the-money-leads-6f95f1a1")&&cxdj.prepareDiv(e),cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("15fc5810f60a3ecdf05c10bbdab82744dbc95213",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]);break;case"barrons.com":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("cfb8cda0385a36bba08c7b3337eb600a6679ad3a",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"]):cxenseOffers.requestCCEOffer("3136cddea70289fe567e2697f7fcf7124817cdf3",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"fnlondon.com":cxenseOffers.requestCCEOffer("4ddc66a66b00cb03f452a1181d57c9ba0bea29f3",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"])}}},displayMGInArticle:function(){var e="cx-in-article";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"mansionglobal.com":cxenseOffers.requestCCEOffer("fd0c07d888bc2ef9b79209a6621f86a01b75bfc2",e)}},displayMGPoptart:function(){var e="cx-lhs-poptart";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"mansionglobal.com":cxenseOffers.requestCCEOffer("ae9cb7c837ba9f3d67b2fa4edc2a3ea5e9bb094b",e)}},displayMarketingTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-mktg-tile",t="cx-mktg-tile-mobile",c="cx-article-tile";cxdj.getUtagData();switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.hasDivId(e)&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("2b0d1973cf48fa3073b54815472be8d7ba2e6f7f",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]):cxenseOffers.requestCCEOffer("9e5724d5eda30e7c52430d3a5113fed1ed60d22a",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])),cxenseOffers.hasDivId(t)&&cxenseOffers.requestCCEOffer("e98ae5d4bbe791c733a779c715d7e2e4d59a05fd",t,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]),"y"!=cxdj.meta.isHP&&cxenseOffers.hasDivId(c)&&cxdj.isSubscriber(cxdj.meta.subscriber)&&cxenseOffers.requestCCEOffer("5c0fb12fad276dbfa84b563d559f4924df1300e3",c,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayLiveCoverageTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-live-coverage-tile";cxenseOffers.hasDivId(e)&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("13ac1f365126d3939721ca1f978fdf559c86dc9b",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]):cxenseOffers.requestCCEOffer("623d396faaf5555db465bec2ac5f137328e9360a",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]))}},displayNewsletterTile:function(){cxdj.isNewRelicMonitoring()||(cxenseOffers.hasDivId("cx-newsletter-tile-mobile")&&cxenseOffers.requestCCEOffer("e68cc07ebf7b89a142b78f1850ac786ac22aa3c7","cx-newsletter-tile-mobile",void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]),cxenseOffers.hasDivId("cx-newsletter-tile")&&cxenseOffers.requestCCEOffer("e68cc07ebf7b89a142b78f1850ac786ac22aa3c7","cx-newsletter-tile",void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]))},displayLegacySubMarketingTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-mktg-tile";cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("fb52f38d250345b578e1cdf989b46cf7193ff179",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}},displayLegacyMobileNewsletterTile:function(){cxdj.isNewRelicMonitoring()||(cxenseOffers.hasDivId("cx-newsletter-tile-mobile")?cxenseOffers.requestCCEOffer("f4614200e4ff615857334cc083017e7fc406d4ad","cx-newsletter-tile-mobile",void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]):cxenseOffers.hasDivId("cx-newsletter-tile")&&cxenseOffers.requestCCEOffer("f4614200e4ff615857334cc083017e7fc406d4ad","cx-newsletter-tile",void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]))},displayNewTile:function(){if(!cxdj.isNewRelicMonitoring()){var e=["cx-mktg-tile","cx-mktg-tile-mobile","cx-article-tile","cx-newsletter-tile","cx-newsletter-tile-mobile"];switch(cxdj.meta.topDomain){case"wsj.com":if(cxdj.isSubscriber(cxdj.meta.subscriber)){for(var t=0;t<e.length;t++)if(cxenseOffers.hasDivId(e[t])){var c=e[t];cxenseOffers.requestCCEOffer("f1fb4da1986ca885f73d3bd1bdbb5ecbe6912865",c,void 0,void 0,["pageType","deviceType","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}else cxdj.displayMarketingTile(),cxdj.displayNewsletterTile()}}},displayNotification:function(){if("staging"!==cxdj.env&&!cxdj.isNewRelicMonitoring()){var t="cx-notification";switch(cxdj.meta.topDomain){case"barrons.com":c("68781b66900d5e3f4b42ff5be1d712959ff90f4d");break;case"wsj.com":var e=document.querySelector("#breaking-news-6e96dff1d9fe");if(!cxenseOffers._isDivEmpty(e))return;cxenseOffers.hasDivId(t)&&cxenseOffers.requestCCEOffer("fdffeaef25759d5a4b278e2b045241d7cc93fb7c",t,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]);break;case"fnlondon.com":c("7fbbea21a5aa1dee7b0d79af212d856f38987112");case"marketwatch.com":if(window.localStorage&&"true"===window.localStorage.getItem("cx-gdpr-accepted"))return;c("cccd1013b442c52c78a8a47269f14edd1d9c6f0b");break;case"moneyish.com":c("05065098ddbaa3ed460d7d151c1fd724ec6b03d4");break;case"huanyuju.com":case"mansionglobal.com":0===window.location.pathname.indexOf("/es/")||"/es"===window.location.pathname?c("a20344ab78eb6ea53a48817e372168b8b45e611e"):c("3726e868762f00176bf156370845f12f0e1923d0");break;case"penews.com":c("5d971332e0240e6e572c53abba1555e9095d778f");case"wsjplus.com":c("d3e3c35fd9f854b03a6472811f98780968bfeae7");break;case"dowjones.com":c("60a2ee6777b1c044551246caa7dd38b011841619")}}function c(e){cxdj.prepareDiv(t),cxenseOffers.requestCCEOffer(e,t,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"])}},displaySnippet:function(){if(!cxdj.isNewRelicMonitoring()&&!window.axateLoggedInStatus){var e="cx-interstitial-snippet",t="cx-im-snippet",c="cx-snippetad",n="cx-marketing-snippet";switch(cxdj.meta.topDomain){case"barrons.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("80c889e1149a1d949c7f0976ed3bba042569df39",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"marketwatch.com":cxenseOffers.hasDivId(n)&&cxenseOffers.requestCCEOffer("38a8e471ea3f5ee900128bb831310b82c22c3d3e",n,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"wsj.com":"snippet-immersive"===cxdj.meta.template?cxenseOffers.hasDivId(t)&&cxenseOffers.requestCCEOffer("5298443d3ac3faed4532071b05d7f8e6c7f516d8",t,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]):cxenseOffers.hasDivId(c)&&cxenseOffers.requestCCEOffer("5298443d3ac3faed4532071b05d7f8e6c7f516d8",c,void 0,void 0,["pageContentTypeDetail","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displaySignInReminder:function(){if(!(cxdj.isNewRelicMonitoring()||"subnotloggedin"!==cxdj.meta.subscriber||-1<cxdj.getMetaTagValue("stack.name").indexOf("static"))){var e="cx-sign-in-reminder";switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("8408e09c3d348c252ca16690ceb41caf332e3583",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"])}}},displayCustomFooter:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-mg-footer";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"huanyuju.com":case"mansionglobal.com":cxenseOffers.requestCCEOffer("2be38a0c08a35cec08c20ba86bd650386b832ac3",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"])}}},displayMobileReadNext:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-read-next-mobile";switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("c4754e8cfc339a4d537fbe7b432e2ff70a262397",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"])}}},displayPoptart:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-poptart";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("b797eaa7728ad589b480777cd42a7fb7b38a6c2d",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayArticleNewsletterTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-article-newsletter-tile";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("ad1109a49c2b0109013b207efc730b4a50013594",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayCustomerCtrSaveScrimForAbTest:function(){if(!cxdj.isNewRelicMonitoring()){var t="cx-scrim",e=window.location.host;if(/customercenter[^\/]*\.wsj\.com$/.test(e))var c=setInterval(function(){if(0===window.location.pathname.indexOf("/cancel/")){clearInterval(c),cxdj.prepareDiv(t);var e=document.querySelector(".bigradios");e&&cxenseOffers.hasDivId(t)&&e.addEventListener("click",function(e){"bigradios__input"===e.target.className&&cxenseOffers.hasDivId(t)&&cxenseOffers.requestCCEOffer("e637efcfdf2ddb93f9e0645ce50e9555c26aea35",t,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])})}},250)}},displayHokTests:function(){if(!cxdj.isNewRelicMonitoring())switch(cxdj.meta.topDomain){case"wsj.com":var e="cx-hok48e";cxdj.prepareDiv(e),cxenseOffers.requestCCEOffer("2ef2870b96cb18a4208f4bcf946286e73e3d791d",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}},displayTopRhsHeader:function(){if(!cxdj.isNewRelicMonitoring())switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.hasDivId("cx-popup")&&cxenseOffers.requestCCEOffer("2de24eadb5f96a9436a375f0d2087dac83093d90","cx-popup",void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]);break;case"barrons.com":cxenseOffers.hasDivId("cx-header")&&cxenseOffers.requestCCEOffer("8beff7dca1f80abd8d6e191025ab9acfd2204aa5","cx-header",void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"])}},displayCatchUp:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-catch-up";cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("3f2954bdd14f53fc51f4c7d552bfeec1158934d5",e,void 0,void 0,["catchUpModuleSection","catchUpModuleSlug"])}},displayWhatToReadNext:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-what-to-read-next";cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("8fc24f5568d1c6da8db6a570a4368b5b523deabe",e)}},getUtagData:function(){return"object"!=typeof window.utag_data?{}:window.utag_data},prepareDiv:function(e){var t=document.getElementById(e);t||(t=document.createElement("div")).setAttribute("id",e),document.body.insertBefore(t,document.body.firstChild)},normalizeUserType:function(e){return-1<e.indexOf("sub_yes")?"subscriber":-1<e.indexOf("mem_yes")?"registered":-1<e.indexOf("reg_yes")?"subnotloggedin":-1<e.indexOf("free")?"nonsubscriber":"default"},readPageContext:function(){var e,t={},c=cxdj.getUtagData();if(cxdj.jqInjected&&(t.jqInject="y"),t.hasAd="n",t.deviceType=cxdj.getDeviceType(),t.topDomain=cX.getTopLevelDomain(),(e=c.cx_shield?c.cx_shield:this.getMetaTagValue("cx_shield"))&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}"object"==typeof e&&(t.pwTag=e.tag,t.pwPlacement=e.placement,t.pwCampaign=e.campaign,t.pwType=e.type,"object"==typeof e.propensity&&(t.propScore=e.propensity.propensityScore,t.propQuantile=e.propensity.quantile),this.cxshield=e);var n=document.querySelector("#AD_PUSH");(cxenseOffers.hasDivId("RollOutAd970x66")||n&&n.children.length)&&(t.hasAd="y"),"Home"===c.page_content_type?t.isHP="y":t.isHP="n";try{var i=cX.library.parseUrlArgs();i.mod&&(t.navSource=i.mod),i.reflink&&(t.reflink=i.reflink),i.trackCode&&(t.trackCode=i.trackCode);var r=(document.referrer||"").replace(/^https?:\/\/(www\.)?/,"").split("/")[0].replace(/\./g,"");r.length&&(t.referrer=r);try{var a=window.devicePixelRatio&&1<window.devicePixelRatio||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches;t.retina=a?"y":"n"}catch(e){t.retina="u"}(t=cxdj.getMeta(t)).subscriber?t.uSource="meta":(t.uSource="default",t.subscriber="default");var o,d="undefined"==typeof s?{}:s;c.user_type_post?(o=cxdj.normalizeUserType(c.user_type_post),t.subscriber=o,t.uSource="utag"):d.eVar26&&(o=cxdj.normalizeUserType(d.eVar26),t.subscriber=o,t.uSource="svar"),t.isSubscriber=cxdj.isSubscriber(t.subscriber)?"y":"n";var f="na,us";if("Edition_Japan"===c.page_content_region)f="asiajp";else{var u=(f=cX.getCookie("wsjregion")||"na,us").indexOf("reset");f=(f=-1===u?f:f.slice(0,u-1)).replace(/,/g,"")}if(c.user_tags&&-1<c.user_tags.indexOf("WSJPRO-AI")&&(t.entitlement="wsjpro-ai"),t.edition=f,"string"==typeof d.eVar3&&5<d.eVar3.length)try{0===d.eVar3.indexOf("V1")?(cxdj.userId=""+CryptoJS.MD5(d.eVar3),t.v1user="y"):0===d.eVar3.indexOf("V2-")&&3<d.eVar3.length?cxdj.userId=""+d.eVar3.substring(3):cxdj.userId=""+d.eVar3}catch(e){}cxdj.sharedAccounts[cxdj.userId]&&(t.sharedAccount=cxdj.sharedAccounts[cxdj.userId],cxdj.userId=null),t.bucket=cxdj.getUserBucket(cX.getUserId()),t.ab_bucket=cxdj.getAbBucket(),t.hasUid=cxdj.userId?"y":"n",t.pageContentTypeDetail=c.page_content_type_detail||"default",t.pageSiteProduct=c.page_site_product;var l=c.profiles&&c.profiles.account;l&&(t.accountEnd=l.end,t.accountMarketing=l.marketing,t.accountOffer=l.offer,t.accountRenew=l.renew);for(var p=["BARRONS-SUB","WSJ-SMARTPHONE","WSJ-PLUS","WSJ-IPAD"],m=0;m<p.length;m++){var g=p[m];if(c.user_tags&&-1<c.user_tags.indexOf(g)){t.userTags=g;break}}var x=document.querySelector("#catch-up-module-container");x&&(t.catchUpModuleSection=x.dataset.catchUpSection,t.catchUpModuleSlug=x.dataset.catchUpSlug)}catch(e){}return t},requestAllOffers:function(){if(this.cxshield&&"object"==typeof this.cxshield)switch(this.cxshield.placement){case"cx-articlecover":cxdj.displayArticleCover(),cxdj.displayJoinTheConversationInline();break;case"cx-candybar":cxdj.displayCandyBar();break;case"cx-scrim":cxdj.displayScrim();break;case"cx-pro-scrim":cxdj.displayProScrim();break;case"cx-pro-snippetad":cxdj.displayProSnippet();break;case"cx-interstitial-snippet":case"cx-snippetad":cxdj.displaySnippet()}else"snippet"===cxdj.meta.template||"snippet-immersive"===cxdj.meta.template?cxdj.displaySnippet():(cxdj.displayScrim(),cxdj.displayCandyBar(),cxdj.displayProCandybar());cxdj.displayCustomFooter(),cxdj.displayPoptart(),cxdj.displayCustomerCtrSaveScrimForAbTest(),cxdj.displayTopRhsHeader(),cxdj.displaySignInReminder(),cxdj.displayMobileReadNext(),cxdj.displayMGPoptart(),cxdj.displayMGInArticle(),cxdj.displayFOEFestivalTile(),cxdj.displayLiveCoverageTile(),cxenseOffers.lazyLoad("cx-what-to-read-next",cxdj.displayWhatToReadNext),"wsj.com"===cxdj.meta.topDomain&&0===window.location.pathname.indexOf("/graphics")&&cxenseOffers.hasDivId("cx-recommendations")&&cxTest.runCxVersion(cxdj.graphicsTestId,"cx-recommendations",{widgetId:"7ba219edc99dffa66b9542eb11b13234440982ae"})},run:function(){cxdj.initialize(),cxdj.initializationCompleted=!0,cxdj.reportEvent(null);try{var e=void 0!==window.grandcanyon;if(0===(cxdj.meta.bucket||0)&&cxdj.reportScrollDepth(),e&&"wsj.com"===cxdj.meta.topDomain||cxdj.displayNotification(),"undefined"==typeof cxDisplayTileOverride&&!e)try{cxdj.displayNewTile(),cxdj.displayProMarketingTile(),cxdj.displayProNewsletterTile()}catch(e){}"undefined"!=typeof cxDisplayAdOverride||e||cxdj.requestAllOffers(),cxdj.displayHokTests();var t=cX.library.parseUrlArgs();if(t.cx_previewWidget){var c=t.cx_previewDiv||"cx-preview-div",n=document.getElementById(c);n||((n=document.createElement("div")).setAttribute("id",c),document.body.insertBefore(n,document.body.firstChild));var i=t.cx_previewTag?{tag:t.cx_previewTag}:void 0;cxenseOffers.requestCCEOffer(t.cx_previewWidget,c,i)}}catch(e){}cxdj.trackKnownElements()},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},injectJQuery:function(e){if(window.jQuery)e&&window.setTimeout(e,1);else{cxdj.jqInjected=!0;var t=document.createElement("script");t.src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js",e&&(t.onload=e),document.getElementsByTagName("head")[0].appendChild(t)}},loadABTestLibrary:function(e){var t=document.createElement("script");t.src="https://scdn.cxense.com/cx.cce.js",t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)}},cxdj=cxdj||cxCandyObj,cX=cX||{};function initializeCxense(){if(!cxdj.initialized){cxdj.initialized=!0;var e=/\.barrons\.com$/i.test(window.location.hostname),i=e?"asset.barrons.com":"asset.wsj.net";cxdj.cdnDomain=e?"asset.barrons.com":"s.wsj.net",cxdj.loadABTestLibrary(function(){cX.callQueue.push(["invoke",function(){var e=cX.getTopLevelDomain(),t=document.getElementsByTagName("head")[0],c=document.createElement("script");if(c.type="text/javascript",c.async="async",c.src="https://"+i+"/public/md5.production-e41e7724c3.js",t.appendChild(c),!window.fetch){var n=document.createElement("script");n.type="text/javascript",n.async="async",n.src="https://"+cxdj.cdnDomain+"/static_html_files/fetch.min.js",t.appendChild(n)}cxTest.init(null,"wsj",cxdj.persistedQueryId,"timeSome"),-1<["barrons.com","fnlondon.com"].indexOf(e)?cxdj.injectJQuery(cxdj.run):cxdj.run()}])})}}cX.callQueue=cX.callQueue||[],function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.async="async",t.src="https://scdn.cxense.com/cx.js",e.appendChild(t)}(),initializeCxense();var cxenseOffers={hasDivId:function(e){return null!==document.getElementById(e)},getDisplaySection:function(e){var t={us:"U.S. News",world:"World News",csuite:"Business","page one":"World News",realestate:"Real Estate",news:"World News","front section":"World News","wealth management journal":"Markets","health and wellness":"Life","new york/ny real estate residential":"Real Estate"};if(e["recs-category"]&&e["recs-category"].length){var c=e["recs-category"].split("/");if(1<c.length)return t.hasOwnProperty(c[1])?t[c[1]]:c[1]}return"WSJ"},shortenTitle:function(e,t){if(t<e.length){var c=e.charAt(t);return e=e.substr(0,t)," "!==c&&(e=e.substr(0,e.lastIndexOf(" "))),e+="..."}return e},updateCCEKValue:function(e){if(e&&e.length){for(var t=[],c=0;c<e.length;++c)e[c].adTargetingKeywords&&t.push(e[c].adTargetingKeywords);t.length&&(cxdj.meta.k=t.join(" "))}},addContextParameter:function(e,t,c){var n=""+t,i=c.toLowerCase();e.context.categories[i]=n,e.context.parameters.push({key:i,value:n})},getCCEContext:function(e,t,c){var n=cxdj.meta,i={};e&&(i=JSON.parse(JSON.stringify(e))),i.context||(i.context={}),i.context.categories||(i.context.categories={}),i.context.parameters||(i.context.parameters=[]),c&&(i.user=c);var r=["subscriber","edition","pwCampaign"];t&&(r=r.concat(t));for(var a=0;a<r.length;++a)if(n.hasOwnProperty(r[a])){var s=r[a];void 0!==n[s]&&this.addContextParameter(i,n[s],s)}return i},requestCCEOffer:function(e,t,c,n,i){var r=cxdj.meta.navSource?["navSource","bucket"]:["bucket"];i&&(r=r.concat(i)),cxTest.run({widgetId:e,targetElementId:t},cxenseOffers.getCCEContext(c,r,n))},hasInsituNewsletterSignup:function(e,t,c){var n=e.creative.destinationUrl,i=function(e,t){t=t||window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null}("sub",n);console.log("hasInsitu check ",i,". Check: ",n),i&&this.subscriberNewsletterSignup(i,t,c)},getUserRenewLink:function(u,l){fetch("/emailsignup/profile",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.profile)throw Error("Invalid Profile Data");for(var t={},c=0;c<e.profile.length;++c)for(var n=e.profile[c],i=0;i<n.groups.length;++i)t[n.groups[i].group]=n.item;var r,a,s,o,d=t["wsj-renew-postage-indicator"],f=t["wsj-bol-renew-postage-indicator"];return d||f?(d?"c"===d?(r=t["wsj-renew-ctaurl1-1"],a=t["wsj-renew-ctaurl1-2"]||""):"m"===d&&(r=t["wsj-renew-ctaurl2-1"],a=t["wsj-renew-ctaurl2-2"]||""):f&&("c"===f?(r=t["wsj-bol-renew-ctaurl1-1"],a=t["wsj-bol-renew-ctaurl1-2"]||""):"m"===f&&(r=t["wsj-bol-renew-ctaurl2-1"],a=t["wsj-bol-renew-ctaurl2-2"]||"")),r&&a?(o=r+a,"userprofile"!==(u||"").toLowerCase()&&(s=o.match(/(.*)((\&|\?)mod=([^&]*))(.*)/))&&6<=s.length&&(o=s[1]+s[3]+"mod="+u+s[5]),o=o.replace(/(\?|&)ec=([^&]*)/,function(e,t,c){return t+"ec="+c.toUpperCase()}),l(null,o)):l()):l()}).catch(function(e){return l(e)})},get1stPartyData:function(i,r){fetch("/emailsignup/profile",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.profile)throw Error("Invalid Profile Data");for(var t=0;t<e.profile.length;++t){var c=e.profile[t];if(c.item)for(var n=0;n<c.groups.length;++n)if(c.groups[n].group===i)return r(null,c.item)}return r()}).catch(function(e){return r(e)})},getQueryVariable:function(e){for(var t=window.location.search.substring(1).split("&"),c=0;c<t.length;c++){var n=t[c].split("=");if(n[0]===e)return n[1]}return!1},getSection:function(e){var t={us:"U.S. News",world:"World News",csuite:"Business","page one":"World News",realestate:"Real Estate",news:"World News","front section":"World News","wealth management journal":"Markets","health and wellness":"Life","new york/ny real estate residential":"Real Estate"};if(e["recs-category"]&&e["recs-category"].length){var c=e["recs-category"].split("/"),n=c[0];if(1<c.length){var i=c[0]+"/"+c[1];if(t[i])return t[i]}if(t[n])return t[n];if(n.length)return n}return"WSJ"},hasEmailDestinationURL:function(e,t){var c=function(e,t){t=t||window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null}("address",e.creative.destinationUrl);if(c){var n=$(t).attr("href")+"?r=https://scomcluster.cxense.com/Repo/rep.gif";t.attr("href","mailto:"+c+"&subject=Wall Street Journal Notification"),$(t).click(function(e){$(t).after(' <img src="'+n+'"  height="0" width="0"/>')})}},slideUp:function(t,c,n){if(t){var e=t.clientHeight||t.offsetHeight;if(0===c)return t.style.height=0,void(t.style.display="none");c=isNaN(c)?400:c;var i=t.style.height=e,r=Math.round(25*e/c),a=new Date,s=setInterval(function(){var e=new Date;if(i<=0||c<=e-a)return clearInterval(s),t.style.height=0,t.style.display="none",void("function"==typeof n&&n());i-=r,t.style.height=i+"px"},25)}},getSubscribedNewsletterIds:function(r){if("function"==typeof r){fetch("/newsletters/svc/signup/2",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.subscriptions)throw Error("Invalid User Subscriptions Data");for(var t=e.subscriptions,c=t.length,n=[],i=0;i<c;i++)"object"==typeof t[i]&&t[i].opt_in&&n.push(t[i].id);return r(null,n)}).catch(function(e){return r(e,[])})}},signupGuestPass:function(e,t,c){if(e&&t){var n=isNaN(parseInt(t))?-1:parseInt(t),i=0===document.location.pathname.indexOf("/membership/")?"https://www.wsj.com":document.location.href,r={email:e,type:t,userId:cX.getCookie("cX_P"),url:i};fetch("/emailsignup/enroll",{method:"POST",credentials:"include",body:JSON.stringify(r),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){if(!e||e.code)throw Error(e.message);7===n?cxdj.reportInteractionEvent("GuestPass7DSuccess"):2===n&&cxdj.reportInteractionEvent("GuestPass2DSuccess"),cX.setUserProfileParameters({userEvent:"EmailOfferGrantedArticleCover"}),e&&e.url&&(window.location.href=e.url)}).catch(function(e){c&&(c.innerHTML=e||"Unable to process request"),cxdj.reportInteractionEvent("EmailOfferError",{error:e})})}},signupMemberGetMember:function(t,e,c,n,i,r){if(c){var a={to:c,"g-recaptcha-response":e};fetch("/emailthis/member-signup",{method:"POST",credentials:"include",body:JSON.stringify(a),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(n,i,!0),"function"==typeof r&&r(),grecaptcha.reset(t)}).catch(function(e){n.style.display="none",i.innerHTML="<p>An unexpected error occurred and we were unable to send the invite</p>",cxenseOffers.fadeIn(i,0),grecaptcha.reset(t)})}},_signupNewsletterAsSub:function(c){var n="/newsletters/svc/signup/2";return"blogs.wsj.com"===window.location.hostname&&(n="https://www.wsj.com"+n),fetch(n,{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.email)throw Error("Invalid Email Data");var t={email:e.email,subscription:{}};return t.subscription[c]=!0,fetch(n,{method:"PATCH",credentials:"include",body:JSON.stringify(t),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"})})},candybarSignupNewsletterAsSub:function(e,t,c,n,i){e&&t&&cxenseOffers._signupNewsletterAsSub(e).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers._hideElement(t),cxenseOffers.fadeIn(c,0),"function"==typeof i&&i()}).catch(function(e){cxenseOffers._hideElement(t),cxenseOffers.fadeIn(n,0)})},signupNewsletterAsSub:function(e,t,c,n){e&&t&&cxenseOffers._signupNewsletterAsSub(e).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(t,c,!0),"function"==typeof n&&n()}).catch(function(e){cxenseOffers.showSignupMessage(t,c,!1)})},signupNewsletterAsNonSub:function(c,n,i,r,a,s){cxenseOffers.injectRecaptchaScript(function(){grecaptcha.ready(function(){grecaptcha.execute("6LcmI7sUAAAAAF-vTKb3JIwIzz2CXCx8hJW0Ukis",{action:"social"}).then(function(e){if(c&&n&&i){var t={emailAddress:c,newsletterIds:[parseInt(n)],marketing:a,returnLink:"http://www.wsj.com",editionId:"WSJ-EN_US",displayContextId:"ONE_CLICK_REGISTRATION","g-recaptcha-response":e};fetch("/newsletters/svc/signup/2/simple-signup",{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(i,r,!0),"function"==typeof s&&s()}).catch(function(e){cxenseOffers.showSignupMessage(i,r,!1)})}})})})},showSignupMessage:function(e,t,c){e&&t&&(e.style.display="none",c||(t.innerHTML='<p>We could not Subscribe you at this time. <a href="https://wsj.com/newsletters">Manage your subscription manually</a></p>'),cxenseOffers.fadeIn(t,0))},submitJobForm:function(e,t){var c={items:[{field:"jobTitle",value:e.jobTitle},{field:"jobIndustry",value:e.jobIndustry},{field:"jobFunction",value:e.jobFunction}]};fetch("/user/fpd/api/profile",{method:"POST",credentials:"include",body:JSON.stringify(c),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");if(cxdj.reportInteractionEvent("p13nScrim",{submitType:"successfulSubmit"}),"function"==typeof t)return t()}).catch(function(e){if("function"==typeof t)return t(e)})},isUserInUs:function(){var e=!1,t=document.cookie.match(/DJSESSION=([^;]*);/);return t&&(e=-1!==(t=decodeURIComponent(t[1])).indexOf("country=us")),e},getVxid:function(){var e=document.cookie.match(/TR=V2-([^;]*)/);return e&&1<e.length?e[1]:void 0},getCxenseId:function(){var e=document.cookie.match(/cX_P=([^;]*)/);return e&&1<e.length?e[1]:void 0},isEmailValid:function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},isEmailInputValidated:function(e,t){if(!e||!t)return!1;var c="1px solid #cccccc",n="1px solid #f12b2b",i="",r="Please enter your Email",a="Please enter a valid Email",s=e.value;return""!==s&&this.isEmailValid(s)?(t.textContent=i,e.style.border=c,!0):(""===s?t.textContent=r:this.isEmailValid(s)||(t.textContent=a),e.style.border=n,!1)},handleNewsletterInputsChange:function(e,t,c,n,i){var r=!0;function a(){r?r=!1:cxenseOffers.isNewsletterInputsValidated(e,t,c)}e&&e.addEventListener("change",function(e){e.stopPropagation(),a()}),c&&c.addEventListener("change",function(e){e.stopPropagation(),a()}),n&&n.addEventListener("change",function(e){e.stopPropagation(),i&&(i.style.display=n.checked?"block":"none")})},isNewsletterInputsValidated:function(e,t,c){if(!e||!t||!c)return!1;var n="1px solid #cccccc",i="1px solid #f12b2b",r="",a="You must click the Policy Agreement checkbox & enter Email",s="Please enter your Email",o="You must click the Policy Agreement checkbox",d="Please enter a valid Email",f=e.value,u=c.checked;return""!==f&&u?this.isEmailValid(f)?(t.textContent=r,e.style.border=n,!0):(t.textContent=d,e.style.border=i,!1):(u||""!==f?u?""===f&&(t.textContent=s,e.style.border=i):(t.textContent=o,e.style.border=n):(t.textContent=a,e.style.border=i),!1)},throttle:function(e,t){var c=!1;return function(){c||(e.apply(null,arguments),c=!0,setTimeout(function(){c=!1},t))}},pageScrollDown:function(e,c,t){if(!(isNaN(e)||100<e||e<0)){var n=window.innerHeight,i=document.documentElement.scrollHeight||document.body.clientHeight,r=(i-n)*e/100;n<i?window.addEventListener("scroll",function t(){window.requestAnimationFrame(function(){var e=window.pageYOffset;r<=e&&"function"==typeof c&&(c(),window.removeEventListener("scroll",t))})}):"function"==typeof t&&t()}},pageScroll:function(e,c,n,t){if(!(isNaN(e)||100<e||e<0)){var i=!1,r=window.innerHeight,a=document.documentElement.scrollHeight||document.body.clientHeight,s=(a-r)*e/100;r<a?window.addEventListener("scroll",cxenseOffers.throttle(function(e){var t=window.pageYOffset;s<=t&&!i?("function"==typeof c&&c(),i=!0):t<s&&i&&("function"==typeof n&&n(),i=!1)},50)):"function"==typeof t&&t()}},fadeIn:function(t,e,c){t&&(e<=0&&(cxenseOffers._showElement(t),cxenseOffers._setOpacity(t,100)),c="function"==typeof c?c:function(){},e=isNaN(e)?400:e,cxenseOffers._animate({duration:e,timing:function(e){return e},draw:function(e){cxenseOffers._setOpacity(t,100*e),1===e&&(cxenseOffers._showElement(t),c())}}))},fadeOut:function(t,e,c){t&&(e<=0&&(cxenseOffers._hideElement(t),cxenseOffers._setOpacity(t,0)),c="function"==typeof c?c:function(){},e=isNaN(e)?400:e,cxenseOffers._animate({duration:e,timing:function(e){return e},draw:function(e){cxenseOffers._setOpacity(t,100*(1-e)),1===e&&(cxenseOffers._hideElement(t),c())}}))},_showElement:function(e){e.style.display="block",e.style.visibility="visible"},_hideElement:function(e){e.style.display="none",e.style.visibility="hidden"},_setOpacity:function(e,t){e.style.opacity=t/100,e.style.filter="alpha(opacity="+t+")"},_animate:function(i){var r=performance.now();requestAnimationFrame(function e(t){var c=(t-r)/i.duration;1<c&&(c=1);var n=i.timing(c);i.draw(n),c<1&&requestAnimationFrame(e)})},injectSlimSelect:function(e){var t=document.createElement("script");t.type="text/javascript",t.src="https://"+cxdj.cdnDomain+"/static_html_files/slimselect.min.js",t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)},injectRecaptchaScript:function(e){if("undefined"==typeof grecaptcha){var t=document.createElement("script");t.type="text/javascript",t.src="https://www.google.com/recaptcha/api.js?render=6LcmI7sUAAAAAF-vTKb3JIwIzz2CXCx8hJW0Ukis",t.setAttribute("async",""),t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)}else"function"==typeof e&&e()},_isDivEmpty:function(e){if(!e)return!0;for(var t,c,n=[e];0!==n.length;)for(var i=n.length,r=0;r<i;r++){if("object"==typeof(t=n.shift())&&"string"==typeof t.textContent&&""!==t.textContent.trim())return!1;if("object"==typeof t&&"object"==typeof t.children)for(var a=0;a<t.children.length;a++)c=t.children[a],n.push(c)}return!0},lazyLoad:function(e,t){var c=document.getElementById(e);if(c)if(cxenseOffers.isDivVisibleInViewport(c))t();else{window.addEventListener("scroll",function e(){window.requestAnimationFrame(function(){cxenseOffers.isDivVisibleInViewport(c)&&(t(),window.removeEventListener("scroll",e))})})}},isDivVisibleInViewport:function(e){if(!e)return!1;var t=window.pageYOffset,c=t+window.innerHeight,n=e.getBoundingClientRect().top+t,i=n+(e.clientHeight||e.offsetHeight);return n<=c&&t<=n||t<=i&&i<=c},getModCode:function(e){if("string"!=typeof e||0===e.length)return"";var t=e.match(/[?&]mod=([^&#]*)/);return t?t[1]:""}};
//# sourceMappingURL=cxense-candy.js.map